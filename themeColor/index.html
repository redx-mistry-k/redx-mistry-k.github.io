<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Power Apps Theme Picker</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #3563e9;
      --bg-color: #f8fafc;
      --card-bg: #ffffff;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --border-color: #e2e8f0;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
      --shadow-lg: 0 10px 25px rgba(0,0,0,0.1);
      --radius-sm: 6px;
      --radius-md: 10px;
      --radius-lg: 14px;
      --transition: all 0.2s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--bg-color);
      color: var(--text-primary);
      line-height: 1.6;
      padding: 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    header {
      text-align: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid var(--border-color);
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 8px;
      color: var(--text-primary);
      background: linear-gradient(135deg, var(--primary-color), #5a3fd6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      padding: 28px;
      margin-bottom: 25px;
      transition: var(--transition);
    }

    .card:hover {
      box-shadow: var(--shadow-lg);
    }

    .card-title {
      font-size: 1.3rem;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .card-title i {
      color: var(--primary-color);
    }

    .color-picker-section {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
    }

    @media (max-width: 768px) {
      .color-picker-section {
        grid-template-columns: 1fr;
      }
    }

    .color-controls {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .color-input-group {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .color-input-row {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .color-input-label {
      font-weight: 600;
      min-width: 120px;
      color: var(--text-primary);
    }

    .color-input-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    input[type="color"] {
      width: 70px;
      height: 50px;
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      box-shadow: var(--shadow-sm);
    }

    .color-hex {
      font-family: monospace;
      font-weight: 600;
      padding: 8px 12px;
      background: var(--bg-color);
      border-radius: var(--radius-sm);
      min-width: 100px;
      text-align: center;
    }

    .suggestions {
      margin-top: 10px;
    }

    .suggestions-title {
      font-size: 1rem;
      margin-bottom: 12px;
      color: var(--text-secondary);
    }

    .suggestions-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }

    .suggestion-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      transition: var(--transition);
    }

    .suggestion-item:hover {
      transform: translateY(-3px);
    }

    .suggestion-color {
      width: 60px;
      height: 60px;
      border-radius: var(--radius-md);
      border: 2px solid var(--border-color);
      transition: var(--transition);
      box-shadow: var(--shadow-sm);
    }

    .suggestion-color:hover {
      border-color: #94a3b8;
      transform: scale(1.05);
    }

    .suggestion-label {
      font-size: 0.8rem;
      color: var(--text-secondary);
      text-align: center;
    }

    .preview-section {
      margin-top: 10px;
    }

    .app-preview {
      border-radius: var(--radius-lg);
      overflow: hidden;
      background: var(--card-bg);
      box-shadow: var(--shadow-md);
      transition: var(--transition);
    }

    .app-preview:hover {
      box-shadow: var(--shadow-lg);
    }

    .app-header {
      padding: 20px;
      color: white;
      font-weight: 600;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      transition: var(--transition);
    }

    .app-header i {
      opacity: 0.9;
    }

    .app-body {
      padding: 25px;
    }

    .app-body p {
      margin-bottom: 20px;
      color: var(--text-primary);
    }

    .app-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .btn {
      padding: 10px 20px;
      border: none;
      color: white;
      border-radius: var(--radius-md);
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background-color: var(--primary-color);
    }

    .btn-primary:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background-color: #64748b;
    }

    .btn-secondary:hover {
      background-color: #475569;
      transform: translateY(-2px);
    }

    .output-section {
      margin-top: 25px;
    }

    .output-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .output-format {
      display: flex;
      gap: 10px;
    }

    .format-btn {
      padding: 6px 12px;
      background: var(--bg-color);
      border: 1px solid var(--border-color);
      border-radius: var(--radius-sm);
      cursor: pointer;
      font-size: 0.9rem;
      transition: var(--transition);
    }

    .format-btn.active {
      background: var(--primary-color);
      color: white;
      border-color: var(--primary-color);
    }

    .copy-box {
      background: var(--bg-color);
      padding: 18px;
      border-radius: var(--radius-md);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: 'Cascadia Code', 'Consolas', monospace;
      border: 1px solid var(--border-color);
      transition: var(--transition);
    }

    .copy-box:hover {
      border-color: #94a3b8;
    }

    .copy-box span {
      word-break: break-all;
      padding-right: 10px;
    }

    .copy-btn {
      padding: 10px 16px;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      cursor: pointer;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: var(--transition);
      white-space: nowrap;
    }

    .copy-btn:hover {
      opacity: 0.9;
      transform: translateY(-2px);
    }

    .copy-btn.copied {
      background: #10b981;
    }

    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #10b981;
      color: white;
      padding: 12px 20px;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      gap: 10px;
      transform: translateY(100px);
      opacity: 0;
      transition: transform 0.3s ease, opacity 0.3s ease;
      z-index: 1000;
    }

    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }

    .powered-by {
      text-align: center;
      margin-top: 30px;
      color: var(--text-secondary);
      font-size: 0.9rem;
    }

    .powered-by a {
      color: var(--primary-color);
      text-decoration: none;
    }

    .powered-by a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

<div class="container">
  <header>
    <h1><i class="fas fa-palette"></i> Power Apps Theme Picker</h1>
    <p class="subtitle">Select a base color, preview it in a Power Apps interface, and copy the color values in your preferred format.</p>
  </header>

  <main>
    <div class="color-picker-section">
      <div class="card">
        <h3 class="card-title"><i class="fas fa-sliders-h"></i> Color Controls</h3>
        
        <div class="color-controls">
          <div class="color-input-group">
            <div class="color-input-row">
              <span class="color-input-label">Base Color</span>
              <div class="color-input-wrapper">
                <input type="color" id="baseColor" value="#3563e9">
                <div class="color-hex" id="hexValue">#3563e9</div>
              </div>
            </div>
            
            <div class="color-input-row">
              <span class="color-input-label">Header Color</span>
              <div class="color-input-wrapper">
                <input type="color" id="headerColor" value="#3563e9">
                <div class="color-hex" id="headerHex">#3563e9</div>
              </div>
            </div>
            
            <div class="color-input-row">
              <span class="color-input-label">Button Color</span>
              <div class="color-input-wrapper">
                <input type="color" id="buttonColor" value="#3563e9">
                <div class="color-hex" id="buttonHex">#3563e9</div>
              </div>
            </div>
          </div>
          
          <div class="suggestions">
            <h4 class="suggestions-title">Suggested Variations</h4>
            <div class="suggestions-grid" id="suggestions">
              <!-- Suggestions will be generated here -->
            </div>
          </div>
        </div>
      </div>
      
      <div class="card preview-section">
        <h3 class="card-title"><i class="fas fa-eye"></i> Live Preview</h3>
        
        <div class="app-preview">
          <div class="app-header" id="header">
            <span><i class="fas fa-th-large"></i> Sample Power App</span>
            <i class="fas fa-user-circle"></i>
          </div>
          <div class="app-body">
            <p>This is a preview of how your selected colors will look in a Power Apps interface. Adjust the colors using the controls on the left.</p>
            <div class="app-actions">
              <button class="btn btn-primary" id="primaryButton">
                <i class="fas fa-check"></i> Primary Action
              </button>
              <button class="btn btn-secondary" id="secondaryButton">
                <i class="fas fa-times"></i> Secondary Action
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="card output-section">
      <div class="output-header">
        <h3 class="card-title"><i class="fas fa-code"></i> Color Output</h3>
        <div class="output-format">
          <button class="format-btn active" data-format="rgba">RGBA</button>
          <button class="format-btn" data-format="hex">HEX</button>
          <button class="format-btn" data-format="hsl">HSL</button>
        </div>
      </div>
      
      <div class="copy-box">
        <span id="outputText">RGBA(53, 99, 233, 1)</span>
        <button class="copy-btn" id="copyButton">
          <i class="far fa-copy"></i> Copy
        </button>
      </div>
    </div>
  </main>
  
  <div class="powered-by">
    <p>Made for <i class="fas fa-bolt"></i> Power Apps developers | <a href="#" id="resetBtn"><i class="fas fa-redo"></i> Reset to Default</a></p>
  </div>
</div>

<div class="notification" id="notification">
  <i class="fas fa-check-circle"></i>
  <span>Color copied to clipboard!</span>
</div>

<script>
  // DOM Elements
  const baseColorInput = document.getElementById("baseColor");
  const headerColorInput = document.getElementById("headerColor");
  const buttonColorInput = document.getElementById("buttonColor");
  const header = document.getElementById("header");
  const primaryButton = document.getElementById("primaryButton");
  const secondaryButton = document.getElementById("secondaryButton");
  const outputText = document.getElementById("outputText");
  const copyButton = document.getElementById("copyButton");
  const suggestionsContainer = document.getElementById("suggestions");
  const hexValue = document.getElementById("hexValue");
  const headerHex = document.getElementById("headerHex");
  const buttonHex = document.getElementById("buttonHex");
  const formatButtons = document.querySelectorAll(".format-btn");
  const resetBtn = document.getElementById("resetBtn");
  const notification = document.getElementById("notification");

  // Current state
  let currentFormat = "rgba";
  let currentColors = {
    base: "#3563e9",
    header: "#3563e9",
    button: "#3563e9"
  };

  // Convert hex to RGB
  function hexToRgb(hex) {
    const bigint = parseInt(hex.replace("#", ""), 16);
    return {
      r: (bigint >> 16) & 255,
      g: (bigint >> 8) & 255,
      b: bigint & 255
    };
  }

  // Convert RGB to HEX
  function rgbToHex(r, g, b) {
    return "#" + [r, g, b].map(x => {
      const hex = x.toString(16);
      return hex.length === 1 ? "0" + hex : hex;
    }).join("");
  }

  // Convert RGB to HSL
  function rgbToHsl(r, g, b) {
    r /= 255, g /= 255, b /= 255;
    const max = Math.max(r, g, b), min = Math.min(r, g, b);
    let h, s, l = (max + min) / 2;

    if (max === min) {
      h = s = 0;
    } else {
      const d = max - min;
      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
      switch (max) {
        case r: h = (g - b) / d + (g < b ? 6 : 0); break;
        case g: h = (b - r) / d + 2; break;
        case b: h = (r - g) / d + 4; break;
      }
      h /= 6;
    }

    return {
      h: Math.round(h * 360),
      s: Math.round(s * 100),
      l: Math.round(l * 100)
    };
  }

  // Format color based on selected format
  function formatColor(hex, format) {
    const { r, g, b } = hexToRgb(hex);
    
    switch(format) {
      case "rgba":
        return `RGBA(${r}, ${g}, ${b}, 1)`;
      case "hex":
        return hex.toUpperCase();
      case "hsl":
        const { h, s, l } = rgbToHsl(r, g, b);
        return `HSL(${h}, ${s}%, ${l}%)`;
      default:
        return `RGBA(${r}, ${g}, ${b}, 1)`;
    }
  }

  // Adjust color brightness
  function adjustColor(hex, amount) {
    let { r, g, b } = hexToRgb(hex);
    r = Math.min(255, Math.max(0, r + amount));
    g = Math.min(255, Math.max(0, g + amount));
    b = Math.min(255, Math.max(0, b + amount));
    return rgbToHex(r, g, b);
  }

  // Update UI with current colors
  function updateUI() {
    // Update preview
    header.style.backgroundColor = currentColors.header;
    primaryButton.style.backgroundColor = currentColors.button;
    
    // Update hex displays
    hexValue.textContent = currentColors.base;
    headerHex.textContent = currentColors.header;
    buttonHex.textContent = currentColors.button;
    
    // Update color inputs
    baseColorInput.value = currentColors.base;
    headerColorInput.value = currentColors.header;
    buttonColorInput.value = currentColors.button;
    
    // Update output text
    outputText.textContent = formatColor(currentColors.base, currentFormat);
    
    // Generate suggestions
    generateSuggestions(currentColors.base);
  }

  // Generate color suggestions
  function generateSuggestions(baseHex) {
    suggestionsContainer.innerHTML = "";
    
    const variations = [
      { label: "Darken 40%", offset: -60 },
      { label: "Darken 20%", offset: -30 },
      { label: "Lighten 20%", offset: 30 },
      { label: "Lighten 40%", offset: 60 }
    ];
    
    variations.forEach(variation => {
      const color = adjustColor(baseHex, variation.offset);
      
      const suggestionItem = document.createElement("div");
      suggestionItem.className = "suggestion-item";
      
      const colorBox = document.createElement("div");
      colorBox.className = "suggestion-color";
      colorBox.style.backgroundColor = color;
      colorBox.title = `Click to apply ${variation.label}`;
      
      const label = document.createElement("span");
      label.className = "suggestion-label";
      label.textContent = variation.label;
      
      suggestionItem.appendChild(colorBox);
      suggestionItem.appendChild(label);
      
      colorBox.addEventListener("click", () => {
        currentColors.base = color;
        currentColors.header = color;
        currentColors.button = color;
        updateUI();
      });
      
      suggestionsContainer.appendChild(suggestionItem);
    });
  }

  // Show notification
  function showNotification(message) {
    notification.querySelector("span").textContent = message;
    notification.classList.add("show");
    
    setTimeout(() => {
      notification.classList.remove("show");
    }, 3000);
  }

  // Copy to clipboard
  function copyToClipboard() {
    const text = outputText.textContent;
    navigator.clipboard.writeText(text).then(() => {
      copyButton.classList.add("copied");
      copyButton.innerHTML = '<i class="fas fa-check"></i> Copied!';
      showNotification("Color copied to clipboard!");
      
      setTimeout(() => {
        copyButton.classList.remove("copied");
        copyButton.innerHTML = '<i class="far fa-copy"></i> Copy';
      }, 2000);
    });
  }

  // Reset to default
  function resetToDefault() {
    currentColors = {
      base: "#3563e9",
      header: "#3563e9",
      button: "#3563e9"
    };
    
    currentFormat = "rgba";
    
    // Update format buttons
    formatButtons.forEach(btn => {
      if (btn.dataset.format === "rgba") {
        btn.classList.add("active");
      } else {
        btn.classList.remove("active");
      }
    });
    
    updateUI();
    showNotification("Reset to default colors");
  }

  // Event Listeners
  baseColorInput.addEventListener("input", e => {
    currentColors.base = e.target.value;
    currentColors.header = e.target.value;
    currentColors.button = e.target.value;
    updateUI();
  });

  headerColorInput.addEventListener("input", e => {
    currentColors.header = e.target.value;
    updateUI();
  });

  buttonColorInput.addEventListener("input", e => {
    currentColors.button = e.target.value;
    updateUI();
  });

  copyButton.addEventListener("click", copyToClipboard);

  formatButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      formatButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      currentFormat = btn.dataset.format;
      outputText.textContent = formatColor(currentColors.base, currentFormat);
    });
  });

  resetBtn.addEventListener("click", resetToDefault);

  // Initialize
  updateUI();
  
  // Add keyboard shortcuts
  document.addEventListener("keydown", (e) => {
    // Ctrl/Cmd + C to copy
    if ((e.ctrlKey || e.metaKey) && e.key === "c") {
      copyToClipboard();
      e.preventDefault();
    }
    
    // R to reset
    if (e.key === "r" && e.altKey) {
      resetToDefault();
    }
  });
</script>

</body>
</html>